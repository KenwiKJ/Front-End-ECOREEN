<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./css/result-tranportation.css">
  <script src="https://kit.fontawesome.com/e73742050b.js" crossorigin="anonymous"></script>
</head>

<body>
  <div class="sidebar">
    <div class="logo">
      <img src="" alt="">
      <span class="logo_name">ECOREEN</span>
    </div>

    <ul class="nav-list">
      <li>
        <a href="home.html">
          <i class="fa-solid fa-house"></i>
          <span class="list_name">Dashboard</span>
        </a>
      </li>

      <li>
        <a href="company.html">
          <i class="fa-solid fa-industry"></i>
          <span class="list_name">Company</span>
        </a>
      </li>

      <li>
        <a href="analytics.html">
          <i class="fa-solid fa-chart-pie"></i>
          <span class="list_name">Analytics</span>
        </a>
      </li>


      <li>
        <a href="transportasi.html" class="active">
          <i class="fa-solid fa-truck"></i>
          <span class="list_name">Transportation</span>
        </a>
      </li>
    </ul>
  </div>

  <section class="home-section">
    <nav>
      <div class="sidebar-button">
        <i class="fa-solid fa-bars side"></i>
        <span class="dashboard">Transportation</span>
      </div>
      <div class="search-box">
        <input type="text" placeholder="Search...">
        <i class="fa-solid fa-magnifying-glass"></i>
      </div>
      <div class="profile-details">
        <img src="./img/planet-earth.png" alt="">
        <span class="admin_name">Kenwi Konghardijunanto</span>
        <i class="fa-solid fa-chevron-down"></i>
      </div>
    </nav>

    <div class="home-content">
      <div class="result">
        <h2>The calculation results</h2>

        <div class="data-emision-company">
          <div class="text-data">Comparison of emissions generated based on calculations with other vehicle fuels :
          </div>
          <div class="chartCard">
            <div class="chartBox">
              <canvas id="myChart"></canvas>
            </div>
          </div>
          <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js"></script>
          <script>
            getData();
            async function getData() {
              const response = await fetch('https://ecoren-api.vercel.app/transportation');
              const data = await response.json();

              lastIdx = data.length - 1;

              labels = ['ethanol', 'diesel', 'natural', 'premium', 'reguler'];

              ethanol = data[lastIdx]['ethanol'];
              diesel = data[lastIdx]['diesel'];
              natural = data[lastIdx]['natural'];
              premium = data[lastIdx]['premium'];
              reguler = data[lastIdx]['reguler'];

              values = [ethanol, diesel, natural, premium, reguler];

              new Chart(document.getElementById("myChart"), {
                type: 'bar',
                data: {
                  labels: labels,
                  datasets: [
                    {
                      label: ['Fuel'],
                      backgroundColor: ["#3a90cd",
                        "#8e5ea2",
                        "#3bba9f",
                        "#e8c3b9",
                        "#c45850",
                        "#CD9C5C",
                        "#40E0D0"],
                      data: values
                    }
                  ]
                },
                options: {
                  legend: { display: false },
                  title: {
                    display: true,
                    text: 'Type Of Fuel'
                  }
                }
              });
            }
          </script>
        </div>
      </div>
  </section>
</body>

</html>